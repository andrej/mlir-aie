#!/usr/bin/env python3

small_separate_xclbins = [
    2238,
    1288,
    2646,
    2903,
    4007,
    3662,
    1724,
    2930,
    2512,
    2603,
    1607,
    1961,
    2358,
    1829,
    2177,
    2302,
    1957,
    1935,
    1832,
    1942,
    2440,
    2433,
    1792,
    1775,
    2020,
    1668,
    2341,
    2271,
    1013,
    3188,
    3370,
    1564,
    2054,
    1653,
    3519,
    1953,
    2941,
    2875,
    1473,
    4311,
    2075,
    1895,
    2149,
    3083,
    2929,
    2036,
    1991,
    2918,
    2252,
    3900,
    2022,
    2719,
    2380,
    2509,
    2194,
    1512,
    1852,
    2315,
    2135,
    2505,
    2390,
    2488,
    2027,
    2189,
    4016,
    3651,
    2247,
    2890,
    2339,
    2724,
    2431,
    2934,
    2014,
    4240,
    2636,
    3055,
    3226,
    3301,
    2939,
    1317,
    1617,
    1217,
    2889,
    2392,
    2636,
    2205,
    1360,
    2808,
    1208,
    2022,
    1889,
    2022,
    2643,
    2817,
    3907,
    2410,
    1934,
    3105,
    3510,
    3138,
    1688,
]

small_runlist = [
      1671,
      1689,
      2827,
      2430,
      2488,
      2556,
      1924,
      1797,
      1865,
      1613,
      1680,
      1852,
      2481,
      1577,
       936,
       981,
      1966,
      1579,
      1338,
       958,
      1828,
      1557,
      1089,
      1947,
      1053,
      1923,
      2645,
      2316,
      1600,
      1352,
      1765,
      2260,
      2780,
       628,
      1465,
      1400,
      1084,
      1568,
      2428,
      1460,
      1508,
       873,
       791,
      1090,
      1537,
      2320,
      1794,
      2900,
      1525,
       995,
      1721,
      1348,
       755,
      1634,
      1979,
      2175,
      1286,
      1324,
      1903,
      2037,
      1726,
       631,
      2697,
      1383,
      2563,
       962,
      1041,
      1621,
      1446,
       910,
      2069,
      1685,
      1695,
      1747,
      2255,
      1482,
      2547,
      1821,
       987,
      2244,
      1112,
      1300,
      1841,
      1364,
      1058,
      1730,
      1778,
      2635,
      2141,
      1561,
      1012,
      2219,
       880,
      2381,
      1876,
       582,
      1449,
      1169,
      1458,
      1944,
      1492,
]

small_fused_txns = [
     1787,
     1410,
     2720,
      961,
     1351,
     1444,
     1335,
     1479,
      532,
     1556,
     1456,
     1350,
     1553,
     1899,
     1179,
     1696,
     1315,
     1000,
     1096,
     1268,
      883,
     1281,
     1693,
     1464,
     1177,
     1538,
     1124,
      903,
     1841,
     1302,
      933,
      893,
     2226,
     1973,
     1299,
     1939,
     1177,
     1240,
     1106,
     1397,
     2117,
      883,
     1826,
     1264,
     1624,
     1249,
     2004,
     1095,
     1631,
     1408,
     2415,
     1726,
     1653,
     1331,
     1331,
     1203,
     1894,
     1241,
     1332,
     1749,
     1124,
      948,
     2787,
      711,
     1245,
     1450,
     1221,
     1405,
     1735,
     1114,
     1102,
     1227,
     1399,
     1478,
     2833,
     1592,
     1147,
     1508,
     1776,
     1716,
     3061,
     1918,
      941,
     1211,
     1635,
     1390,
     1802,
     2339,
      549,
     3436,
     1362,
     1105,
     1984,
      932,
     1832,
     1562,
      952,
     1230,
      577,
     1420,
]

import numpy as np

import matplotlib.pyplot as plt

bars = [
    {
        "label": "Separate XCLBins",
        "values": small_separate_xclbins
    },
    {
        "label": "Runlist",
        "values": small_runlist
    },
    {
        "label": "Fused Transactions",
        "values": small_fused_txns
    }
]

xs = list(range(len(bars)))

fig, ax = plt.subplots()
for x, bar in zip(xs, bars):
    ax.bar(x, np.mean(bar["values"]), label=bar["label"])
    ax.boxplot(positions=[x], x=bar["values"], medianprops={"color" : "black"})

ax.set_xticks(xs)
ax.set_xticklabels([bar["label"] for bar in bars])
ax.set_ylabel("Total runtime (Î¼s)")
ax.set_title("Running add two, subtract three for 4096 i32s input")

plt.savefig("eval.png")